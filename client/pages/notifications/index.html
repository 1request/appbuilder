<template name="notifications">
  <div class="container">
    <h2>{{title}}</h2>
    {{#if notifications}}
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Time</th>
            <th>Message</th>
            <th>Action</th>
            <th>Link/Image</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
        {{#each notifications}}
          {{> notificationRow}}
        {{/each}}
        </tbody>
      </table>
    {{/if}}

    <a class="btn btn-success" href="{{pathFor 'newNotification'}}">Add Notification</a>
  </div>
</template>

<template name="notificationRow">
<tr>
  <td>{{timeFormat createdAt}}</td>
  <td>{{message}}</td>
  <td>{{showAction action}}</td>
  <td>{{{url}}}</td>
  <td>
    <a href="#" data-remove="{{_id}}" class="btn btn-danger delete-beacon">Delete Notification</a>
  </td>
</tr>
</template>